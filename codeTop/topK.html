<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let list = [9, 8, 7, 6, 5, 4, 3, 2, 1,234,4,5,6,12].reverse()
        const topK = (list,left,right, K) => {
            if(left >= right){
                return list[list.length-K]
            }
            const patition = (list,left,right)=>{
                if(left>=right){
                    return
                }
                let pival = list[left]
                let pointer1 = left
                let pointer2 = right+1
                while(true){
                    while(list[++pointer1] < pival) { if(pointer1 == right) {break} }
                    while(list[--pointer2] > pival) { if(pointer2 == left) {break} }
                    if(pointer1>=pointer2) break
                    wrap(list,pointer1,pointer2)
                }
                wrap(list,left,pointer2)
                return pointer2
            }
            let position = patition(list, left, right)
            if (list.length - position === K) {
                return list[position]
            } else if (list.length - position > K) {
                return topK(list,position + 1,right,K)
            } else {
                return topK(list,left,position-1, K)
            }
        }
        const wrap = (list, i, j) => {
            let temp = list[j]
            list[j] = list[i]
            list[i] = temp
        }
        console.log(topK(list,0,list.length-1, 5))
    </script>
</body>

</html>